{"id":1823,"date":"2016-09-14T18:55:18","date_gmt":"2016-09-14T18:55:18","guid":{"rendered":"http:\/\/wirid-lab.umng.edu.co\/?p=1823"},"modified":"2016-09-14T18:55:18","modified_gmt":"2016-09-14T18:55:18","slug":"1823-revision-v1","status":"publish","type":"post","link":"https:\/\/wirid-lab.umng.edu.co\/es\/2016\/09\/14\/1823-revision-v1\/","title":{"rendered":"Control VSG Keysight N5172B"},"content":{"rendered":"<p><\/p>\n<h2>Introducci\u00f3n<\/h2>\n<p>Este tutorial muestra c\u00f3mo realizar el control del generador vectorial (VSG)\u00a0 <a href=\"https:\/\/gissic.umng.edu.co\/wirid-lab\/vsg-keysight-n5172b-exg\/\" target=\"_blank\" rel=\"noopener noreferrer\">Keysight N5172B<\/a>\u00a0 mediante los notebooks de Jupyter o mediante el acceso avanzado donde pueda controlar el equipo mediante matlab \/ R \/ Python o cualquier otro software mediante los puertos de control.\u00a0<\/p>\n<p>El generador vectorial se encuentra conectado una RaspberryPI3 mediante una conexi\u00f3n FastEthernet.<\/p>\n<p>Para controlar este equipo durante su experimento recuerde haber cargado las claves SSH a la plataforma\u00a0 y haber creado la reserva con los nodos\u00a0 del laboratorio. Si no sabe c\u00f3mo realizar este paso dir\u00edjase a la gu\u00eda de inicio r\u00e1pido <a href=\"https:\/\/gissic.umng.edu.co\/wirid-lab\/getting-started\/\" target=\"_blank\" rel=\"noopener noreferrer\">AQU\u00cd<\/a><\/p>\n<p>El nodo encargado asignado para este experimento es : <em><strong>wirid-lab-node-72\u00a0<\/strong><\/em><\/p>\n<h3>Puertos utilizados en esta aplicaci\u00f3n:<\/h3>\n<ul>\n<li><strong>2022<\/strong> para ingresar mediante SSH al nodo (Usuario: <strong>root<\/strong>\u00a0 y contrase\u00f1a utilizar token de reserva)<\/li>\n<li><strong>8080\u00a0<\/strong>para ingresar al notebook Jupyter<\/li>\n<\/ul>\n<h3>Direcci\u00f3n IP VSG:<\/h3>\n<ul>\n<li>El VSG est\u00e1 configurado con la IP\u00a0 <code class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\">192.168.0.2<\/code>\u00a0 y los puertos disponibles en este equipo son\u00a0<strong>80, 5023, 5024<\/strong><\/li>\n<\/ul>\n<p>Al realizar el despliegue de la aplicaci\u00f3n autom\u00e1ticamente se clona en la ruta\u00a0 <strong>\/root <\/strong>del nodo el repositorio <a href=\"https:\/\/github.com\/wirid-lab\/control-vsg\" target=\"_blank\" rel=\"noopener noreferrer\">https:\/\/github.com\/wirid-lab\/control-vsg<\/a> con ejemplos que pueda utilizar.<\/p>\n<h2>Acceso mediante interfaz WEB<\/h2>\n<ul>\n<li>Al iniciar el experimento ver\u00e1 que la aplicaci\u00f3n se encuentra en estado\u00a0<em><strong>Provisioning<\/strong><\/em><strong>\u00a0<\/strong>esto indica que la aplicaci\u00f3n se est\u00e1 desplegando en el nodo, El tiempo de aprovisionamiento es de 1 a 2 minutos.\u00a0 Una vez el estado se encuentre en <em><strong>Running\u00a0<\/strong><\/em>puede ingresar a la aplicaci\u00f3n\u00a0<strong>Jupyter<\/strong> y<strong> SSH Web<\/strong>\n<\/li>\n<li>Para acceder a cada una de estas aplicaciones le ser\u00e1 solicitada una contrase\u00f1a,\u00a0 esta se\u00a0 encuentra al hacer clic sobre el icono de llave en <a href=\"https:\/\/wirid-lab.umng.edu.co\/#\/home\/experiment\/my-experiments\" target=\"_blank\" rel=\"noopener noreferrer\"><strong>My Experiments<\/strong><\/a> . El token es una cadena alfanum\u00e9rica \u00fanica e irrepetible que identifica los nodos con la reserva.\n<p><a href=\"http:\/\/wirid-lab.umng.edu.co\/wp-content\/uploads\/2020\/06\/token-gnuradio.png\" data-rel=\"lightbox-image-0\" data-rl_title=\"\" data-rl_caption=\"\" title=\"\"><img decoding=\"async\" class=\"aligncenter size-large wp-image-3218\" src=\"http:\/\/wirid-lab.umng.edu.co\/wp-content\/uploads\/2020\/06\/token-gnuradio-1024x467.png\" alt=\"\" width=\"80%\" srcset=\"https:\/\/wirid-lab.umng.edu.co\/wp-content\/uploads\/2020\/06\/token-gnuradio-1024x467.png 1024w, https:\/\/wirid-lab.umng.edu.co\/wp-content\/uploads\/2020\/06\/token-gnuradio-300x137.png 300w, https:\/\/wirid-lab.umng.edu.co\/wp-content\/uploads\/2020\/06\/token-gnuradio-768x350.png 768w, https:\/\/wirid-lab.umng.edu.co\/wp-content\/uploads\/2020\/06\/token-gnuradio-517x235.png 517w, https:\/\/wirid-lab.umng.edu.co\/wp-content\/uploads\/2020\/06\/token-gnuradio.png 1366w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/a><\/li>\n<\/ul>\n<h3>Jupyter<\/h3>\n<ul>\n<li>Seleccione la opci\u00f3n Jupyter en\u00a0<a href=\"https:\/\/wirid-lab.umng.edu.co\/#\/home\/experiment\/my-experiments\" target=\"_blank\" rel=\"noopener noreferrer\"><strong>My Experiments<\/strong><\/a><\/li>\n<li>Ingrese el token de la reserva como contrase\u00f1a<\/li>\n<li>Explore el archivo <strong>Control VSG Keysight.ipynb\u00a0<\/strong>que se encuentra en la carpeta\u00a0<strong>\/root\/control-vsg\u00a0<\/strong>donde puede encender o apagar\u00a0 el VSG ejecutando la funci\u00f3n <em><strong>toggle_energy()<\/strong><\/em><\/li>\n<\/ul>\n<h3>SSH Web<\/h3>\n<ul>\n<li>Seleccione la opci\u00f3n SSH en\u00a0<a href=\"https:\/\/wirid-lab.umng.edu.co\/#\/home\/experiment\/my-experiments\" target=\"_blank\" rel=\"noopener noreferrer\"><strong>My Experiments<\/strong><\/a><\/li>\n<li>Ingrese con el usuario <strong>root<\/strong><\/li>\n<li>Ingrese el token de la reserva como contrase\u00f1a haciendo click derecho y seleccionar la opci\u00f3n\u00a0<em><strong>Paste from browser<\/strong><\/em><\/li>\n<li>Oprimir la tecla \u00abEnter\u00bb<\/li>\n<li>Puede conocer el estado del VSG ejecutando el comando\u00a0 <code class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\">python3 status.py<\/code> en la ruta\u00a0 <strong>\/root\/control-vsg\u00a0<\/strong><\/li>\n<li>Puede encender o apagar el VSG ejecutando el comando <code class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\">python3 servo.py<\/code> en la ruta\u00a0 <strong>\/root\/control-vsg\u00a0<\/strong><\/li>\n<\/ul>\n<p style=\"text-align: center;\"><iframe loading=\"lazy\" src=\"\/\/www.youtube.com\/embed\/eTYV6k2-9VA\" width=\"640\" height=\"358\" allowfullscreen=\"allowfullscreen\"><\/iframe><\/p>\n<h2>Acceso avanzado<\/h2>\n<p>El acceso avanzado se puede realizar para obtener acceso a la interfaz web\u00a0 propia del generador y\/o poder controlarlo mediante los puertos SCPI-raw 5023\/5024. Para este modo de acceso se realizar\u00e1 mediante dos conexiones de t\u00fanel SSH.<\/p>\n<h3>Linux \/ MacOS \/ Windows 10<\/h3>\n<h4>Archivo config<\/h4>\n<ul>\n<li style=\"list-style-type: none;\">\n<ul>\n<li>Elimine el archivo\u00a0<strong>known_hosts<\/strong><\/li>\n<li>Edite el archivo\u00a0<strong>config<\/strong>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\">Host wirid-lab\n    HostName wirid-lab.umng.edu.co\n    User guestuser\n    Port 2222\n    IdentityFile ~\/.ssh\/id_rsa\n    #Tunnel SHH to wirid-lab-node-72\n    LocalForward 2022 &lt;P&gt;:2022  <\/pre>\n<\/li>\n<li>Abra un terminal y ejecute el siguiente comando para ingresar al laboratorio <code class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\">ssh wirid-lab<\/code><\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<h4>PUTTY<\/h4>\n<ul>\n<li>Realizar las siguientes configuraciones en la opci\u00f3n\u00a0<strong>Tunneling<\/strong>\n<ul>\n<li>Puerto local 2022 para &lt;IP&gt;:2022<\/li>\n<\/ul>\n<\/li>\n<\/ul>\n<p>Una vez haya establecido la conexi\u00f3n al laboratorio , abra un nuevo terminal y ejecute el siguiente comando para ingresar al terminal SSH del nodo creando segundo t\u00fanel SSH a la IP y puertos del generador.\u00a0 La contrase\u00f1a ser\u00e1 el TOKEN de su reserva.<\/p>\n<pre class=\"EnlighterJSRAW\" data-enlighter-language=\"generic\">ssh -p 2022 root@127.0.0.1 -o StrictHostKeyChecking=no  -L 8081:192.168.0.2:80 -L 5023:192.168.0.2:5023 -L 5024:192.168.0.2:5024<\/pre>\n<h5>Acceso Interfaz WEB del VSG<\/h5>\n<p>Cuando se realice la segunda conexi\u00f3n SSH abra una ventana del navegador e ingrese la direcci\u00f3n <a href=\"http:\/\/127.0.0.1:8081\" target=\"_blank\" rel=\"noopener noreferrer\">http:\/\/127.0.0.1:8081<\/a>\u00a0<\/p>\n<p><a href=\"http:\/\/wirid-lab.umng.edu.co\/wp-content\/uploads\/2016\/09\/tunnel_1.png\" data-rel=\"lightbox-image-1\" data-rl_title=\"\" data-rl_caption=\"\" title=\"\"><img decoding=\"async\" class=\"aligncenter size-large wp-image-3233\" src=\"http:\/\/wirid-lab.umng.edu.co\/wp-content\/uploads\/2016\/09\/tunnel_1-1024x546.png\" alt=\"\" width=\"80%\" srcset=\"https:\/\/wirid-lab.umng.edu.co\/wp-content\/uploads\/2016\/09\/tunnel_1-1024x546.png 1024w, https:\/\/wirid-lab.umng.edu.co\/wp-content\/uploads\/2016\/09\/tunnel_1-300x160.png 300w, https:\/\/wirid-lab.umng.edu.co\/wp-content\/uploads\/2016\/09\/tunnel_1-768x410.png 768w, https:\/\/wirid-lab.umng.edu.co\/wp-content\/uploads\/2016\/09\/tunnel_1.png 1366w\" sizes=\"(max-width: 1024px) 100vw, 1024px\" \/><\/a><\/p>\n<p>Para controlar el equipo ingrese a\u00a0<strong>Signal Generator Web Control\u00a0<\/strong>del men\u00fa lateral, digite la contrase\u00f1a <strong>agilent<\/strong> y luego se abrir\u00e1 una ventana con las opciones de control del VSG. Recuerde habilitar los pop-ups.<\/p>\n<p><a href=\"http:\/\/wirid-lab.umng.edu.co\/wp-content\/uploads\/2016\/09\/tunnel_2.png\" data-rel=\"lightbox-image-2\" data-rl_title=\"\" data-rl_caption=\"\" title=\"\"><img decoding=\"async\" class=\"aligncenter size-large wp-image-3234\" src=\"http:\/\/wirid-lab.umng.edu.co\/wp-content\/uploads\/2016\/09\/tunnel_2-1024x312.png\" alt=\"\" width=\"80%\" \/><\/a><\/p>\n<h5>Control SCPI-RAW del VSG<\/h5>\n<p>La posibilidad de acceder a los puertos SCPI-RAW le permite controlar el equipo mediante cualquier lenguaje de programaci\u00f3n a trav\u00e9s de los puertos 5023 o 5024.\u00a0 Para este ejemplo utilizaremos <a href=\"https:\/\/www.hw-group.com\/software\/hercules-setup-utility\" target=\"_blank\" rel=\"noopener noreferrer\">Hercules<\/a>.<\/p>\n<p><a href=\"http:\/\/wirid-lab.umng.edu.co\/wp-content\/uploads\/2016\/09\/tunnel_3.png\" data-rel=\"lightbox-image-3\" data-rl_title=\"\" data-rl_caption=\"\" title=\"\"><img decoding=\"async\" loading=\"lazy\" class=\"aligncenter size-full wp-image-3235\" src=\"http:\/\/wirid-lab.umng.edu.co\/wp-content\/uploads\/2016\/09\/tunnel_3.png\" alt=\"\" width=\"624\" height=\"544\" \/><\/a><\/p>\n<p style=\"text-align: center;\">\u00a0<\/p>\n<p style=\"text-align: center;\"><iframe loading=\"lazy\" src=\"\/\/www.youtube.com\/embed\/Ua0UIawQDUw\" width=\"640\" height=\"359\" allowfullscreen=\"allowfullscreen\"><\/iframe><\/p>\n<p>&nbsp;<\/p>\n<p><\/p>","protected":false},"excerpt":{"rendered":"<p>Introducci\u00f3n Este tutorial muestra c\u00f3mo realizar el control del generador vectorial (VSG)\u00a0 Keysight N5172B\u00a0 mediante los notebooks de Jupyter o mediante el acceso avanzado donde pueda controlar el equipo mediante matlab \/ R \/ Python o cualquier otro software mediante los puertos de control.\u00a0 El generador vectorial se encuentra conectado una RaspberryPI3 mediante una conexi\u00f3n [&hellip;]<\/p>\n","protected":false},"author":2,"featured_media":1857,"comment_status":"closed","ping_status":"closed","sticky":false,"template":"","format":"standard","meta":{"_mi_skip_tracking":false},"categories":[13],"tags":[],"_links":{"self":[{"href":"https:\/\/wirid-lab.umng.edu.co\/es\/wp-json\/wp\/v2\/posts\/1823"}],"collection":[{"href":"https:\/\/wirid-lab.umng.edu.co\/es\/wp-json\/wp\/v2\/posts"}],"about":[{"href":"https:\/\/wirid-lab.umng.edu.co\/es\/wp-json\/wp\/v2\/types\/post"}],"author":[{"embeddable":true,"href":"https:\/\/wirid-lab.umng.edu.co\/es\/wp-json\/wp\/v2\/users\/2"}],"replies":[{"embeddable":true,"href":"https:\/\/wirid-lab.umng.edu.co\/es\/wp-json\/wp\/v2\/comments?post=1823"}],"version-history":[{"count":0,"href":"https:\/\/wirid-lab.umng.edu.co\/es\/wp-json\/wp\/v2\/posts\/1823\/revisions"}],"wp:featuredmedia":[{"embeddable":true,"href":"https:\/\/wirid-lab.umng.edu.co\/es\/wp-json\/"}],"wp:attachment":[{"href":"https:\/\/wirid-lab.umng.edu.co\/es\/wp-json\/wp\/v2\/media?parent=1823"}],"wp:term":[{"taxonomy":"category","embeddable":true,"href":"https:\/\/wirid-lab.umng.edu.co\/es\/wp-json\/wp\/v2\/categories?post=1823"},{"taxonomy":"post_tag","embeddable":true,"href":"https:\/\/wirid-lab.umng.edu.co\/es\/wp-json\/wp\/v2\/tags?post=1823"}],"curies":[{"name":"wp","href":"https:\/\/api.w.org\/{rel}","templated":true}]}}